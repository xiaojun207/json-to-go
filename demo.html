<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>Json to go</title>
    <script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="json-to-go.js"></script>
    <style>
        .content {
            width: 40%;
            border: 1px solid #818481;
            margin: 10px;
            padding: 10px;
            float: left;
        }
    </style>
    <script>


    </script>
</head>
<body>

<div>
    <button onclick="btn()">开始</button>
</div>


<div class="content">
    <pre id="input" contenteditable="true">
    [
    {
        "symbol": "BTCUSDT", // 交易对，仅针对涉及交易对的资金流
        "incomeType": "TRANSFER",   // 资金流类型
        "income": "-0.37500000", // 资金流数量，正数代表流入，负数代表流出
        "asset": "USDT", // 资产内容
        "info":"", // 备注信息，取决于流水类型
        "time": 1570608000000, // 时间
    },
    {
        "symbol": "BTCUSDT",
        "incomeType": "COMMISSION",
        "income": "-0.01000000",
        "asset": "USDT",
        "info":"",
        "time": 1570636800000
    }
]
    </pre>
</div>

<div class="content">
    <pre id="output" contenteditable="true"></pre>
</div>

<script>
    inputE = document.getElementById("input")
    outputE = document.getElementById("output")

    function btn() {
        var input = inputE.innerText
        console.log(input.substr(41, 10))
        // var j = $.parseJSON(input)
        // console.log(j)
        let output = jsonToGo(input, "", true, true);
        if (output.error ) {
            alert(output.error)
        }
        // console.log(output.go)
        outputE.innerText = output.go
    }

</script>
</body>
</html>
